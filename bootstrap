#if 0
set -e
./Toolchain/bootstrap.sh > /dev/stderr
source Toolchain/env

ccache clang -fcolor-diagnostics -std=c++17 -c -emit-llvm -xc++ $0 -o /tmp/bootstrap
lli /tmp/bootstrap
rm -f build/compile_commands.json
if [ "$1" != "--no-echo" ]; then
    echo '#' bootstrap: created build/build.ninja
    echo '#' bootstrap: please run the command below:
    echo
    echo source Toolchain/env
    echo
fi

exit 0
#endif
#include "./bs.h"
#include "./Libraries/build.def"
#include "./Fonts/build.def"
#include "./Shaders/build.def"
#include "./Tools/build.def"
#include "./MusicStudio/build.def"

int main(void)
{
    setup("build");
    FILE* ninja = fopen("build/build.ninja", "w");
    if (!ninja) {
        perror("bootstrap: could not open build/build.ninja");
        return 1;
    }
    emit_ninja(ninja, all_targets);
    fclose(ninja);
}
